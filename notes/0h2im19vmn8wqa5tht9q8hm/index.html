<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>React Hooks</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Notes on React Hooks"/><meta property="og:title" content="React Hooks"/><meta property="og:description" content="Notes on React Hooks"/><meta property="og:url" content="https://rperez2021.github.io/DevNotes/notes/0h2im19vmn8wqa5tht9q8hm/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="4/23/2022"/><meta property="article:modified_time" content="4/24/2022"/><link rel="canonical" href="https://rperez2021.github.io/DevNotes/notes/0h2im19vmn8wqa5tht9q8hm/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/DevNotes/_next/static/css/eed8bf81abfd52c3.css" as="style"/><link rel="stylesheet" href="/DevNotes/_next/static/css/eed8bf81abfd52c3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/DevNotes/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/DevNotes/_next/static/chunks/webpack-0c999df4017467fc.js" defer=""></script><script src="/DevNotes/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/DevNotes/_next/static/chunks/main-772151c4b16ecf54.js" defer=""></script><script src="/DevNotes/_next/static/chunks/pages/_app-12b82b1567467517.js" defer=""></script><script src="/DevNotes/_next/static/chunks/826-e0e455fb469c158f.js" defer=""></script><script src="/DevNotes/_next/static/chunks/986-737e5da213076068.js" defer=""></script><script src="/DevNotes/_next/static/chunks/pages/notes/%5Bid%5D-00dd1421f3ce3a3e.js" defer=""></script><script src="/DevNotes/_next/static/ZngNBAAOWdGj2M_dMvVk6/_buildManifest.js" defer=""></script><script src="/DevNotes/_next/static/ZngNBAAOWdGj2M_dMvVk6/_ssgManifest.js" defer=""></script><script src="/DevNotes/_next/static/ZngNBAAOWdGj2M_dMvVk6/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="react-hooks"><a aria-hidden="true" class="anchor-heading" href="#react-hooks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>React Hooks</h1>
<h2 id="general-info"><a aria-hidden="true" class="anchor-heading" href="#general-info"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>General Info</h2>
<p>Hooks allow functional components to also have a lifecycle as well as a state.</p>
<p>Imported as an object function from the React module:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
</code></pre>
<p>Hooks were created as a way to solve these problems:</p>
<ol>
<li>It’s hard to reuse stateful logic between components
<ul>
<li>Patterns like render props and higher-order components that try to solve this. But these patterns require you to restructure your components when you use them, which can be cumbersome and make code harder to follow</li>
<li>Hooks allow you to reuse stateful logic without changing your component hierarchy.</li>
</ul>
</li>
<li>Complex components become hard to understand
<ul>
<li>Hooks let you split one component into smaller functions based on what pieces are related (such as setting up a subscription or fetching data)</li>
</ul>
</li>
<li>Classes confuse both people and machines
<ul>
<li>You have to understand how this works in JavaScript, which is very different from how it works in most languages.</li>
<li>You have to remember to bind the event handlers.</li>
<li>Hooks let you use more of React’s features without classes.</li>
</ul>
</li>
</ol>
<h2 id="hook-rules"><a aria-hidden="true" class="anchor-heading" href="#hook-rules"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Hook Rules</h2>
<ol>
<li>Only call Hooks at the top level. Don’t call Hooks inside loops, conditions, or nested functions.</li>
<li>Only call Hooks from React function components. Don’t call Hooks from regular JavaScript functions. (There is just one other valid place to call Hooks — your own custom Hooks. We’ll learn about them in a moment.)</li>
</ol>
<h2 id="custom-hooks"><a aria-hidden="true" class="anchor-heading" href="#custom-hooks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Custom Hooks</h2>
<p>Hooks are a way to reuse stateful logic, not state itself. In fact, each call to a Hook has a completely isolated state — so you can even use the same custom Hook twice in one component.</p>
<p>Custom Hooks are more of a convention than a feature. If a function’s name starts with ”use” and it calls other Hooks, we say it is a custom Hook. The useSomething naming convention is how our linter plugin is able to find bugs in the code using Hooks.</p>
<p>You can write custom Hooks that cover a wide range of use cases like form handling, animation, declarative subscriptions, timers, and probably many more we haven’t considered. We are excited to see what custom Hooks the React community will come up with.</p>
<h2 id="usestate"><a aria-hidden="true" class="anchor-heading" href="#usestate"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useState</h2>
<p>Functional replacement for <code>this.state</code> and <code>setState()</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>color<span class="token punctuation">,</span> setColor<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>shape<span class="token punctuation">,</span> setShape<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>However, unlike <code>this.setState</code> in a class, updating a state variable always replaces it instead of merging it.</p>
<h2 id="useeffect"><a aria-hidden="true" class="anchor-heading" href="#useeffect"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useEffect</h2>
<p>Functional replacement for lifecycle methods syntax is:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>useEffect Hooks let us split the code based on what it is doing rather than a lifecycle method name. React will apply every effect used by the component, in the order they were specified.</p>
<h3 id="componentdidmount-optional-use"><a aria-hidden="true" class="anchor-heading" href="#componentdidmount-optional-use"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>componentDidMount optional use</h3>
<p>Leave it empty.</p>
<p>This option is equal to a componentDidMount lifecycle method, meaning the hook runs one time when the component mounts (is inserted in the DOM tree)</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="componentdidupdate-optional-use"><a aria-hidden="true" class="anchor-heading" href="#componentdidupdate-optional-use"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>componentDidUpdate optional use</h3>
<p>Add a dependency to the array.</p>
<p>This way, the <code>useEffect</code> hook will re-run anytime the dependency, in this case <code>(color)</code> changes. This is similar to a <code>componentDidUpdate</code> method, with the only difference that it only runs when a certain condition has changed.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>color<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>If you use this optimization, make sure the array includes all values from the component scope (such as props and state) that change over time and that are used by the effect. Otherwise, your code will reference stale values from previous renders.</p>
<h3 id="componentdidmount-and-componentdidupdate-combo-optional-use"><a aria-hidden="true" class="anchor-heading" href="#componentdidmount-and-componentdidupdate-combo-optional-use"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>componentDidMount and componentDidUpdate combo optional use</h3>
<p>Leave out the dependency array.</p>
<p>You can also completely leave out the dependency array. This way, the useEffect hook runs anytime the component is updated, AND right after the initial render. This is the difference compared to the componentDidUpdate lifecycle method, because it also runs after the initial render. This way it would be equal to a componentDidMount and componentDidUpdate method combined.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="componentwillunmount-with-return-method"><a aria-hidden="true" class="anchor-heading" href="#componentwillunmount-with-return-method"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>componentWillUnmount with return method</h3>
<p>If you write a return statement like the above in a useEffect, it will do the same as a componentWillUnmount method.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>color<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> changeColorOnClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#general-info" title="General Info">General Info</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#hook-rules" title="Hook Rules">Hook Rules</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#custom-hooks" title="Custom Hooks">Custom Hooks</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#usestate" title="useState">useState</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#useeffect" title="useEffect">useEffect</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#componentdidmount-optional-use" title="componentDidMount optional use">componentDidMount optional use</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#componentdidupdate-optional-use" title="componentDidUpdate optional use">componentDidUpdate optional use</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#componentdidmount-and-componentdidupdate-combo-optional-use" title="componentDidMount and componentDidUpdate combo optional use">componentDidMount and componentDidUpdate combo optional use</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#componentwillunmount-with-return-method" title="componentWillUnmount with return method">componentWillUnmount with return method</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"0h2im19vmn8wqa5tht9q8hm","title":"React Hooks","desc":"Notes on React Hooks","updated":1650775502035,"created":1650738091046,"custom":{},"fname":"devnotes.javascript.react.hooks","type":"note","vault":{"fsPath":"vault"},"contentHash":"75c795c4695f45252912eb7695b76cab","links":[],"anchors":{"general-info":{"type":"header","text":"General Info","value":"general-info","line":7,"column":0,"depth":2},"hook-rules":{"type":"header","text":"Hook Rules","value":"hook-rules","line":29,"column":0,"depth":2},"custom-hooks":{"type":"header","text":"Custom Hooks","value":"custom-hooks","line":34,"column":0,"depth":2},"usestate":{"type":"header","text":"useState","value":"usestate","line":42,"column":0,"depth":2},"useeffect":{"type":"header","text":"useEffect","value":"useeffect","line":54,"column":0,"depth":2},"componentdidmount-optional-use":{"type":"header","text":"componentDidMount optional use","value":"componentdidmount-optional-use","line":64,"column":0,"depth":3},"componentdidupdate-optional-use":{"type":"header","text":"componentDidUpdate optional use","value":"componentdidupdate-optional-use","line":76,"column":0,"depth":3},"componentdidmount-and-componentdidupdate-combo-optional-use":{"type":"header","text":"componentDidMount and componentDidUpdate combo optional use","value":"componentdidmount-and-componentdidupdate-combo-optional-use","line":90,"column":0,"depth":3},"componentwillunmount-with-return-method":{"type":"header","text":"componentWillUnmount with return method","value":"componentwillunmount-with-return-method","line":102,"column":0,"depth":3}},"children":[],"parent":"7w5ugn5hasj4g83pm3pok6u","data":{}},"body":"\u003ch1 id=\"react-hooks\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#react-hooks\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eReact Hooks\u003c/h1\u003e\n\u003ch2 id=\"general-info\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#general-info\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eGeneral Info\u003c/h2\u003e\n\u003cp\u003eHooks allow functional components to also have a lifecycle as well as a state.\u003c/p\u003e\n\u003cp\u003eImported as an object function from the React module:\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eReact\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e useState\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e useEffect \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"react\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHooks were created as a way to solve these problems:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eIt’s hard to reuse stateful logic between components\n\u003cul\u003e\n\u003cli\u003ePatterns like render props and higher-order components that try to solve this. But these patterns require you to restructure your components when you use them, which can be cumbersome and make code harder to follow\u003c/li\u003e\n\u003cli\u003eHooks allow you to reuse stateful logic without changing your component hierarchy.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eComplex components become hard to understand\n\u003cul\u003e\n\u003cli\u003eHooks let you split one component into smaller functions based on what pieces are related (such as setting up a subscription or fetching data)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eClasses confuse both people and machines\n\u003cul\u003e\n\u003cli\u003eYou have to understand how this works in JavaScript, which is very different from how it works in most languages.\u003c/li\u003e\n\u003cli\u003eYou have to remember to bind the event handlers.\u003c/li\u003e\n\u003cli\u003eHooks let you use more of React’s features without classes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"hook-rules\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#hook-rules\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eHook Rules\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eOnly call Hooks at the top level. Don’t call Hooks inside loops, conditions, or nested functions.\u003c/li\u003e\n\u003cli\u003eOnly call Hooks from React function components. Don’t call Hooks from regular JavaScript functions. (There is just one other valid place to call Hooks — your own custom Hooks. We’ll learn about them in a moment.)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"custom-hooks\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#custom-hooks\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCustom Hooks\u003c/h2\u003e\n\u003cp\u003eHooks are a way to reuse stateful logic, not state itself. In fact, each call to a Hook has a completely isolated state — so you can even use the same custom Hook twice in one component.\u003c/p\u003e\n\u003cp\u003eCustom Hooks are more of a convention than a feature. If a function’s name starts with ”use” and it calls other Hooks, we say it is a custom Hook. The useSomething naming convention is how our linter plugin is able to find bugs in the code using Hooks.\u003c/p\u003e\n\u003cp\u003eYou can write custom Hooks that cover a wide range of use cases like form handling, animation, declarative subscriptions, timers, and probably many more we haven’t considered. We are excited to see what custom Hooks the React community will come up with.\u003c/p\u003e\n\u003ch2 id=\"usestate\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#usestate\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003euseState\u003c/h2\u003e\n\u003cp\u003eFunctional replacement for \u003ccode\u003ethis.state\u003c/code\u003e and \u003ccode\u003esetState()\u003c/code\u003e\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ecount\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e setCount\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003euseState\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ecolor\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e setColor\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003euseState\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'black'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eshape\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e setShape\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003euseState\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'circle'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHowever, unlike \u003ccode\u003ethis.setState\u003c/code\u003e in a class, updating a state variable always replaces it instead of merging it.\u003c/p\u003e\n\u003ch2 id=\"useeffect\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#useeffect\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003euseEffect\u003c/h2\u003e\n\u003cp\u003eFunctional replacement for lifecycle methods syntax is:\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token function\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003euseEffect Hooks let us split the code based on what it is doing rather than a lifecycle method name. React will apply every effect used by the component, in the order they were specified.\u003c/p\u003e\n\u003ch3 id=\"componentdidmount-optional-use\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#componentdidmount-optional-use\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ecomponentDidMount optional use\u003c/h3\u003e\n\u003cp\u003eLeave it empty.\u003c/p\u003e\n\u003cp\u003eThis option is equal to a componentDidMount lifecycle method, meaning the hook runs one time when the component mounts (is inserted in the DOM tree)\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token function\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Do something\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"componentdidupdate-optional-use\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#componentdidupdate-optional-use\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ecomponentDidUpdate optional use\u003c/h3\u003e\n\u003cp\u003eAdd a dependency to the array.\u003c/p\u003e\n\u003cp\u003eThis way, the \u003ccode\u003euseEffect\u003c/code\u003e hook will re-run anytime the dependency, in this case \u003ccode\u003e(color)\u003c/code\u003e changes. This is similar to a \u003ccode\u003ecomponentDidUpdate\u003c/code\u003e method, with the only difference that it only runs when a certain condition has changed.\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token function\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Do something\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ecolor\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you use this optimization, make sure the array includes all values from the component scope (such as props and state) that change over time and that are used by the effect. Otherwise, your code will reference stale values from previous renders.\u003c/p\u003e\n\u003ch3 id=\"componentdidmount-and-componentdidupdate-combo-optional-use\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#componentdidmount-and-componentdidupdate-combo-optional-use\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ecomponentDidMount and componentDidUpdate combo optional use\u003c/h3\u003e\n\u003cp\u003eLeave out the dependency array.\u003c/p\u003e\n\u003cp\u003eYou can also completely leave out the dependency array. This way, the useEffect hook runs anytime the component is updated, AND right after the initial render. This is the difference compared to the componentDidUpdate lifecycle method, because it also runs after the initial render. This way it would be equal to a componentDidMount and componentDidUpdate method combined.\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token function\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Do something\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"componentwillunmount-with-return-method\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#componentwillunmount-with-return-method\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ecomponentWillUnmount with return method\u003c/h3\u003e\n\u003cp\u003eIf you write a return statement like the above in a useEffect, it will do the same as a componentWillUnmount method.\u003c/p\u003e\n\u003cpre class=\"language-javascript\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"token function\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Do something\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ecolor\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token dom variable\"\u003edocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eremoveEventListener\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"click\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e changeColorOnClick\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1605266684036,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"cf4622cd4e7841f93fb3051e6203c8e6","links":[],"anchors":{},"children":["uRNDWirv66xgHSdrPwMcw","lcTujcWsxBfPEpzP49YbQ","FTV8hEHhyid0DiEvv9gNj","ph4ta0hoi7x0vch4uoz72hn","boufkx25rro7ysodpanan5g","01u0co3RYjOM1bjpc2qIU","xt9womgr90xi5ui5nezev7b","qpngd6ap92mmahr4bh4gc47","hobifg8vvmmg17kt2z5p36a"],"parent":null,"data":{},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`. \n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.88.0","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":true,"enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/DevNotes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://rperez2021.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"siteFaviconPath":"favicon.ico","siteIndex":"root","enableTaskNotes":true}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"0h2im19vmn8wqa5tht9q8hm"},"buildId":"ZngNBAAOWdGj2M_dMvVk6","assetPrefix":"/DevNotes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>